{% extends "base.html" %}
{% block title %}Rent{% endblock %}
{% block content
    %}
    <br />
    <h2 class="text-center">Number of available rooms per area</h2>
    <br />
    <form action="/view-one" method="post">
        <div class="form-row">
            <div class="form-group col">
                <label for="country">Country</label>
                <select id="country" class="form-control" name="country">
                    <option>
                    </option>
                    {% for country in countries %}
                        {% if form and country == form["country"] %}
                            <option selected>
                                {{ country }}
                            </option>
                        {% else %}
                            <option>
                                {{ country }}
                            </option>
                        {% endif %}
                    {% endfor %}
                </select>
            </div>
            <div class="form-group col">
                <label for="province-or-state">Province/State</label>
                <select id="province-or-state" class="form-control" name="province-or-state">
                    <option>
                    </option>
                    {% for province_or_state in provinces_or_states %}
                        {% if form and province_or_state == form["province-or-state"] %}
                            <option selected>
                                {{ province_or_state }}
                            </option>
                        {% else %}
                            <option>
                                {{ province_or_state }}
                            </option>
                        {% endif %}
                    {% endfor %}
                </select>
            </div>
            <div class="form-group col">
                <label for="city">City</label>
                <select id="city" class="form-control" name="city">
                    <option>
                    </option>
                    {% for city in cities %}
                        {% if form and city == form["city"] %}
                            <option selected>
                                {{ city }}
                            </option>
                        {% else %}
                            <option>
                                {{ city }}
                            </option>
                        {% endif %}
                    {% endfor %}
                </select>
            </div>
        </div>
        <div class="d-flex justify-content-center align-items-center">
            <div class="form-row">
                <div class="form-group col">
                    <label for="search" style="visibility: hidden">Search</label>
                    <button type="submit" id="search" class="form-control btn btn-dark">Search</button>
                </div>
                <div class="form-group col">
                    <label for="clear" style="visibility: hidden">Clear</label>
                    <button formaction="/view-one"
                            formmethod="get"
                            id="clear"
                            class="form-control btn btn-dark">Clear</button>
                </div>
            </div>
        </div>
    </form>
    <br/>
    <table class="table table-striped table-bordered">
        <thead>
            <tr>
                <td>Country</td>
                <td>Province/State</td>
                <td>City</td>
                <td>Available Rooms</td>
            </tr>
        </thead>
        <tbody>
            {% for room in rooms %}
                <tr>
                    <td>{{ room[0] }}</td>
                    <td>{{ room[1] }}</td>
                    <td>{{ room[2] }}</td>
                    <td>{{ room[3] }}</td>
                </tr>
            {% endfor %}
        </tbody>
    </table>
{% endblock %}
